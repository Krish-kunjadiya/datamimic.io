{% extends "base.html" %}

{% block title %}Welcome{% endblock %}

{% block content %}
<!-- Hero Section with Gradient Text -->
<div class="hero-section">
    <div class="hero-content">
        <h1 class="gradient-text">Welcome to DataMimic.io</h1>
        <p class="lead-text">Generate synthetic data with modern UI and advanced features</p>
        <div class="hero-buttons">
            <a href="#" id="tryDataMimicBtn" class="animated-button primary">
                <svg xmlns="http://www.w3.org/2000/svg" class="arr-2" viewBox="0 0 24 24">
                    <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
                </svg>
                <span class="text">Try DataMimic.io</span>
                <span class="circle"></span>
                <svg xmlns="http://www.w3.org/2000/svg" class="arr-1" viewBox="0 0 24 24">
                    <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
                </svg>
            </a>
            <a href="#" id="exploreEdaBtn" class="animated-button secondary">
                <svg xmlns="http://www.w3.org/2000/svg" class="arr-2" viewBox="0 0 24 24">
                    <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
                </svg>
                <span class="text">Explore EDA Tools</span>
                <span class="circle"></span>
                <svg xmlns="http://www.w3.org/2000/svg" class="arr-1" viewBox="0 0 24 24">
                    <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
                </svg>
            </a>
        </div>
    </div>
    <div class="hero-background">
        <div class="hero-blob hero-blob-1"></div>
        <div class="hero-blob hero-blob-2"></div>
        <div class="hero-blob hero-blob-3"></div>
    </div>
</div>

<!-- Key Features Section with Ice Box Effect -->
<div class="key-features-section">
    <h2 class="section-title">Key Features</h2>
    <div class="feature-grid">
        <!-- Synthetic Data Generation Features -->
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-layer-group"></i>
            </div>
            <h3>Multiple Data Types</h3>
            <p>Generate medical, finance, retail, education, and automotive data with ease. Supports custom schemas for any use case.</p>
        </div>
        
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-cogs"></i>
            </div>
            <h3>Advanced Configuration</h3>
            <p>Customize your data with modern, intuitive controls. Adjust missing values, variance, and more.</p>
        </div>
        
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-file-export"></i>
            </div>
            <h3>Multiple Formats</h3>
            <p>Export your data in CSV, JSON, or Excel format. Easy integration with your workflow.</p>
        </div>
        
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-bolt"></i>
            </div>
            <h3>Fast & Scalable</h3>
            <p>Generate thousands of records in seconds. Optimized for performance and scalability.</p>
        </div>
        
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-question-circle"></i>
            </div>
            <h3>Missing Values Control</h3>
            <p>Simulate real-world data incompleteness by adjusting the missing values ratio.</p>
        </div>
        
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-random"></i>
            </div>
            <h3>Data Variance Control</h3>
            <p>Control the diversity in your numeric data with your variance adjustment feature.</p>
        </div>
    </div>
</div>

<!-- EDA & Pre-processing Features Section -->
<div class="eda-features-section">
    <h2 class="section-title">EDA & Pre-processing Tools</h2>
    <div class="feature-grid">
        <!-- Data Upload & Preview -->
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-upload"></i>
            </div>
            <h3>Smart File Upload</h3>
            <p>Upload CSV and Excel files with instant preview. Process files in memory for privacy and speed.</p>
        </div>
        
        <!-- Data Cleaning -->
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-broom"></i>
            </div>
            <h3>Data Cleaning</h3>
            <p>Remove missing values, duplicates, and outliers. Clean text data with capitalization options.</p>
        </div>
        
        <!-- Data Imputation -->
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-fill-drip"></i>
            </div>
            <h3>Smart Imputation</h3>
            <p>Fill missing values using mean, median, mode strategies for numerical and categorical data.</p>
        </div>
        
        <!-- Data Transformation -->
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-exchange-alt"></i>
            </div>
            <h3>Data Transformation</h3>
            <p>Convert data types, scale numerical columns, and transform text data with ease.</p>
        </div>
        
        <!-- Data Analysis -->
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-chart-bar"></i>
            </div>
            <h3>Statistical Analysis</h3>
            <p>Get comprehensive statistics, column details, and data insights automatically.</p>
        </div>
        
        <!-- Data Export -->
        <div class="feature-card ice-box">
            <div class="feature-icon">
                <i class="fas fa-download"></i>
            </div>
            <h3>Processed Data Export</h3>
            <p>Download your cleaned and processed data in multiple formats for further analysis.</p>
        </div>
    </div>
</div>

<!-- Statistics Section -->
<div class="stats-section">
    <h2 class="section-title">Platform Statistics</h2>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-number">5+</div>
            <div class="stat-label">Data Schemas</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">100MB</div>
            <div class="stat-label">Max File Size</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">3</div>
            <div class="stat-label">Export Formats</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">10+</div>
            <div class="stat-label">Preprocessing Tools</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">1000+</div>
            <div class="stat-label">Synthetic Data Generated</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">500+</div>
            <div class="stat-label">EDA & Pre-processing Performed</div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Add smooth scroll animation for feature cards
document.addEventListener('DOMContentLoaded', function() {
    const featureCards = document.querySelectorAll('.feature-card');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, { threshold: 0.1 });
    
    featureCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(30px)';
        card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(card);
    });

    // Arrow Animation Functionality
    const tryBtn = document.getElementById('tryDataMimicBtn');
    const edaBtn = document.getElementById('exploreEdaBtn');
    
    function createArrowElement(color = 'default') {
        const arrow = document.createElement('div');
        if (color === 'blue') {
            arrow.className = 'arrow-animation blue';
        } else if (color === 'orange') {
            arrow.className = 'arrow-animation orange';
        } else {
            arrow.className = 'arrow-animation';
        }
        arrow.innerHTML = `
            <svg class="arrow-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"></path>
            </svg>
        `;
        return arrow;
    }

    function animateArrowToGenerator() {
        // Prevent default link behavior
        event.preventDefault();
        
        // Disable interactions during animation
        document.body.classList.add('animation-active');
        
        // Get button position
        const btnRect = tryBtn.getBoundingClientRect();
        const arrow = createArrowElement('blue');
        
        // Position arrow at button location
        arrow.style.left = (btnRect.right + 15) + 'px';
        arrow.style.top = (btnRect.top + btnRect.height / 2 - 16) + 'px';
        
        // Add arrow to document
        document.body.appendChild(arrow);
        
        // Show arrow
        setTimeout(() => {
            arrow.classList.add('active');
        }, 150);
        
        // Find Generator nav link
        const generatorLink = document.querySelector('nav a[href*="generator"]');
        
        if (generatorLink) {
            const navRect = generatorLink.getBoundingClientRect();
            
            // Calculate smooth curved path with longer route
            const startX = btnRect.right + 15;
            const startY = btnRect.top + btnRect.height / 2 - 16;
            const endX = navRect.left + navRect.width / 2 - 16;
            const endY = navRect.top + navRect.height / 2 - 16;
            
            // Create shorter, direct curved path
            const deltaX = endX - startX;
            const deltaY = endY - startY;
            
            // Simple arc - shorter route
            const midX = deltaX * 0.5;
            const midY = deltaY * 0.5 - 80; // Small upward arc
            
            // Calculate smooth rotation angle
            const finalAngle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
            
            // Create simple, continuous animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes smoothArrowFlight {
                    0% {
                        transform: translateX(0) translateY(0) rotate(0deg) scale(1);
                        opacity: 1;
                    }
                    50% {
                        transform: translateX(${midX}px) translateY(${midY}px) rotate(${finalAngle * 0.5}deg) scale(1.1);
                        opacity: 1;
                    }
                    90% {
                        transform: translateX(${deltaX}px) translateY(${deltaY}px) rotate(${finalAngle}deg) scale(1);
                        opacity: 1;
                    }
                    100% {
                        transform: translateX(${deltaX}px) translateY(${deltaY}px) rotate(${finalAngle}deg) scale(0.8);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Start smooth flight animation
            setTimeout(() => {
                arrow.style.animation = 'smoothArrowFlight 2.5s ease-out forwards';
                
                // Add pulse effect to target
                setTimeout(() => {
                    generatorLink.classList.add('nav-target-pulse');
                }, 1800);
            }, 300);
            
            // Navigate after animation completes
            setTimeout(() => {
                // Clean up
                document.body.removeChild(arrow);
                document.head.removeChild(style);
                document.body.classList.remove('animation-active');
                generatorLink.classList.remove('nav-target-pulse');
                
                // Navigate to generator page
                window.location.href = "{{ url_for('generator') }}";
            }, 3000);
        }
    }
    
    function animateArrowToEda() {
        // Prevent default link behavior
        event.preventDefault();
        
        // Disable interactions during animation
        document.body.classList.add('animation-active');
        
        // Get button position
        const btnRect = edaBtn.getBoundingClientRect();
        const arrow = createArrowElement('orange'); // Orange arrow
        
        // Position arrow at button location
        arrow.style.left = (btnRect.right + 15) + 'px';
        arrow.style.top = (btnRect.top + btnRect.height / 2 - 16) + 'px';
        
        // Add arrow to document
        document.body.appendChild(arrow);
        
        // Show arrow
        setTimeout(() => {
            arrow.classList.add('active');
        }, 150);
        
        // Find EDA nav link
        const edaLink = document.querySelector('nav a[href*="eda"]');
        
        if (edaLink) {
            const navRect = edaLink.getBoundingClientRect();
            
            // Calculate smooth curved path
            const startX = btnRect.right + 15;
            const startY = btnRect.top + btnRect.height / 2 - 16;
            const endX = navRect.left + navRect.width / 2 - 16;
            const endY = navRect.top + navRect.height / 2 - 16;
            
            // Create shorter, direct curved path
            const deltaX = endX - startX;
            const deltaY = endY - startY;
            
            // Simple arc - shorter route
            const midX = deltaX * 0.5;
            const midY = deltaY * 0.5 - 80; // Small upward arc
            
            // Calculate smooth rotation angle
            const finalAngle = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
            
            // Create simple, continuous animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes smoothArrowFlightEda {
                    0% {
                        transform: translateX(0) translateY(0) rotate(0deg) scale(1);
                        opacity: 1;
                    }
                    50% {
                        transform: translateX(${midX}px) translateY(${midY}px) rotate(${finalAngle * 0.5}deg) scale(1.1);
                        opacity: 1;
                    }
                    90% {
                        transform: translateX(${deltaX}px) translateY(${deltaY}px) rotate(${finalAngle}deg) scale(1);
                        opacity: 1;
                    }
                    100% {
                        transform: translateX(${deltaX}px) translateY(${deltaY}px) rotate(${finalAngle}deg) scale(0.8);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Start smooth flight animation
            setTimeout(() => {
                arrow.style.animation = 'smoothArrowFlightEda 2.5s ease-out forwards';
                
                // Add pulse effect to target
                setTimeout(() => {
                    edaLink.classList.add('nav-target-pulse');
                }, 1800);
            }, 300);
            
            // Navigate after animation completes
            setTimeout(() => {
                // Clean up
                document.body.removeChild(arrow);
                document.head.removeChild(style);
                document.body.classList.remove('animation-active');
                edaLink.classList.remove('nav-target-pulse');
                
                // Navigate to EDA page
                window.location.href = "{{ url_for('eda') }}";
            }, 3000);
        }
    }

    // Attach click and touch events to buttons for mobile compatibility
    if (tryBtn) {
        tryBtn.addEventListener('click', animateArrowToGenerator);
        tryBtn.addEventListener('touchend', function(e) {
            e.preventDefault();
            animateArrowToGenerator(e);
        });
        // Add mobile-specific styles
        tryBtn.style.touchAction = 'manipulation';
        tryBtn.style.webkitTapHighlightColor = 'transparent';
    }
    
    if (edaBtn) {
        edaBtn.addEventListener('click', animateArrowToEda);
        edaBtn.addEventListener('touchend', function(e) {
            e.preventDefault();
            animateArrowToEda(e);
        });
        // Add mobile-specific styles
        edaBtn.style.touchAction = 'manipulation';
        edaBtn.style.webkitTapHighlightColor = 'transparent';
    }
});
</script>
{% endblock %}